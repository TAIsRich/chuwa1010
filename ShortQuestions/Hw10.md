Hw10 (hw42-Spring-Data 2)
#### 1. List all of the annotations you learned from class and homework to annotaitons.md
#### 2. type the code, you need to checkout new branch from branch 02_post_RUD, name the new branch with https://github.com/TAIsRich/springboot-redbook/ tree/hw05_01_slides_JPQL.
#### 3. What is JPQL?
JPQL is Java Persistence Query Language defined in JPA specification. 

It is used to create queries against entities to store in a relational database.

#### 4. What is @NamedQuery and @NamedQueries?
`@NameQuery`: annotation is used to define the single named query.

`@NameQueries`: annotation is used to define the multiple named queries.

#### 5. What is @Query? In which Interface we write the sql or JPQL?
@Query annotation declares finder queries directly on repository methods.

#### 6. What is HQL and Criteria Queries?


`Criteria Queries`: helps in building the Criteria query object by applying different filters and logical conditions on top of it. 
    This is an alternate way to manipulate objects and return the desired data from an RDBMS table.

`HQL`: HQL stands for Hibernate Query Language. It's an object-oriented language similar to SQL that we can use to query our database. 
    However, the main disadvantage is the code's unreadability.

#### 7. What is EnityManager?
The EntityManager is an API that manages the lifecycle of entity instances. 
An EntityManager object manages a set of entities that are defined by a persistence unit. 
Each EntityManager instance is associated with a persistence context.
#### 8. What is SessionFactory and Session?

**SessionFactory:**

SessionFactory is a factory class for Session objects. 
It is available for the whole application while a Session is only available for particular transaction.

**Session:**

Session is short-lived while SessionFactory objects are long-lived. 
SessionFactory provides a second level cache and Session provides a first level cache.

#### 9. What is Transaction? how to manage your transaction?
A transaction simply represents a unit of work.

@Transactional annotation can be added to a transaction so that if all the operation are successful then perform commit otherwise rollback all the operations.

#### 10. What is hibernate Caching?
Hibernate caching acts as a layer between the actual database and your application. 
It reduces the time taken to obtain the required data — as it fetches from memory instead of directly hitting the database. 
It is very useful when you need to fetch the same kind of data multiple times.

#### 11. What is the difference between first-level cache and second-level cache?
**first-level cache**: The First level cache is by default enabled by Hibernate itself. The session object maintains the first-level cache.

**second-level cache**: The second-level cache is by default disabled, the developer needs to enable it explicitly, and the SessionFactory object is responsible to maintain it.
```
The main difference between the first level and second level cache in Hibernate is that the first level is maintained at the Session level and accessible only to the Session, while the second level cache is maintained at the SessionFactory level and available to all Sessions.
```
#### 12. How do you understand @Transactional? (不要clone，要自己抄写并测试 transactionalhttps://github.com/TAIsRich/tutorial-transaction，)
#### 13. Write a simple factory design pattern.
```java
// Coffee.java
public abstract class Coffee {

    public abstract String getName();

    public void addSuger(){
        System.out.println("add suger");
    }
    public void addMilk(){
        System.out.println("add milk");
    }
}

// AmericanCoffee.java
public class AmericanCoffee extends Coffee {

    public String getName(){
        return "Americano";
    }

}

// LatteCoffee.java
public class LatteCoffee extends Coffee{

    public String getName(){
        return "Latte";
    }
}

// SimpleCoffeeFactory.java
public class SimpleCoffeeFactory {

    public Coffee createcoffee(String type) {
        Coffee coffee = null;
        if ("american".equals(type)){
            coffee = new AmericanCoffee();
        } else if ("latte".equals(type)){
            coffee = new LatteCoffee();
        } else {
            throw new RuntimeException("Sorry, your ordered coffee out of stock");
        }

        return coffee;
    }
}
// CoffeeStore.java
public class CoffeeStore {
    public Coffee orderCoffee(String type){

        SimpleCoffeeFactory factory = new SimpleCoffeeFactory();
        Coffee coffee = factory.createcoffee(type);

        coffee.addSuger();
        coffee.addMilk();
        return coffee;
    }
}

// Client.java
public class Client {
    public static void main(String[] args) {
        CoffeeStore store = new CoffeeStore();
        Coffee coffee = store.orderCoffee("latte");
        System.out.println(coffee.getName());
    }
}

```