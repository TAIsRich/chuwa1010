# hw43

*1. List all of the annotations you learned from class and homework to*
*annotaitons.md*
*2. type the code, you need to checkout new branch from branch 02_post_RUD,*
*name the new branch with https://github.com/TAIsRich/springboot-redbook/*
*tree/hw05_01_slides_JPQL.*
*3. What is JPQL?*

JPQL is Java Persistence Query Language defined in JPA specification. It is used to create queries against entities to store in a relational database. JPQL is developed based on SQL syntax. But it won’t affect the database directly.

JPQL can retrieve information or data using SELECT clause, can do bulk updates using UPDATE clause and DELETE clause. EntityManager.createQuery() API will support for querying language.

*4. What is @NamedQuery and @NamedQueries?*

A named query is a statically defined query with a predefined unchangeable query string. They're validated when the session factory is created, thus making the application to fail fast in case of an error.

To define a named query, we'll use the *org.hibernate.annotations.NamedQuery* annotation. It extends the javax*.persistence.NamedQuery* with Hibernate features.

@NamedQueries are a set of NamedQuery.

*5. What is @Query? In which Interface we write the sql or JPQL?*

A *Query* is similar in syntax to SQL, and it's generally used to perform CRUD operations:

JPQL and native SQL queries use the same Query interface, which provides setParameter method for positional and named parameter bindings

*6. What is HQL and Criteria Queries?*

HQL stands for Hibernate Query Language. It's **an object-oriented language similar to SQL** that we can use to query our database. However, the main disadvantage is the code's unreadability. We can define our queries as Named Queries to place them in the actual code that accesses the database.  HQL is to perform both select and non-select operations on the data, but Criteria is only for selecting the data, we cannot perform non-select operations using criteria.

*7. What is EnityManager?*

The EntityManager is an API that manages the lifecycle of entity instances. An EntityManager object manages a set of entities that are defined by a persistence unit. Each EntityManager instance is associated with a persistence context.

*8. What is SessionFactory and Session?*

SessionFactory is an interface available in org.hibernate package which extends Referenceable and Serializable interface and provides factory methods to get session object.

Session is an interface available in `org.hibernate` package which provides different API to communicate java application to hibernate. 

*9. What is Transaction? how to manage your transaction?*

Transactions in Java, as in general refer to a series of actions that must all complete successfully. Hence, if one or more action fails, all other actions must back out leaving the state of the application unchanged.

*10. What is hibernate Caching?*

Caching is a mechanism to enhance the performance of a system. It is a buffer memory that lies between the application and the database. Cache memory stores recently used data items in order to reduce the number of database hits as much as possible. Hibernate caching has 2 levels.

The first-level cache is the Session cache and is a mandatory cache through which all requests must pass. The Session object keeps an object under its own power before committing it to the database.

A Hibernate second-level cache is one of the data caching components available in the Hibernate object-relational mapping (ORM) library.

*11. What is the difference between first-level cache and second-level cache?*

   The main difference between the first level and second level cache in Hibernate is that the first level is maintained at the Session level and accessible only to the Session, while the second level cache is maintained at the SessionFactory level and available to all Sessions

*12. How do you understand @Transactional? (不要clone，要⾃⼰抄写并测试*
*transactional，https://github.com/TAIsRich/tutorial-transaction)*

there are two ways to make the one application or method to be transactional,  one is put annotation @EnableTransactionManagement in application, the other is add annotations @Transactional in method. 

*13. Write a simple factory design pattern.*