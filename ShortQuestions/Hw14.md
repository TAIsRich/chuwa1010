Hw14 (Hw 45-Spring Security)

### 1.  List all of the annotations you learned from class and homework to annotaitons.md

### 2.  What is HTTP Session?
HTTP sessions is an industry standard feature that allows Web servers to maintain user identity and to store user-specific data during multiple request/response interactions between a client application and a Web application.

### 3.  What is Cookie?
Cookies are text files with small pieces of data — like a username and password
Data stored in a cookie is created by the server upon your connection.

### 4.  What is the difference between Session and Cookie?
| Session                                                  | Cookie                                  |
|:---------------------------------------------------------|:----------------------------------------|
| server-side files                                        | client-side files                       |
| when user quits the browser or log out, the session over | cookies end on the lifetime set by user |
| unlimited data                                           | limited data                            |

### 5.  How do we use session and cookie to keep user information across the application?
### 6.  What is the spring security filter?
In a web application, we drive Spring security through the servlet filters. 
Servlet filters works by intercepting the request before it reaches to the actual resource (e.g. Spring controller)

### 7.  Do you use any Encoder to encode Password?
use `PasswordEncoder` interface

### 8.  What is UserDetailService? AuthenticationProvider? AuthenticationManager? AuthenticationFilter?(把这几个名字看熟悉也行)
**UserDetailsService**  is used by DaoAuthenticationProvider for retrieving a username, a password, and other attributes for authenticating with a username and password
    It has one method named `loadUserByUsername()`

**Authentication providers** are responsible to perform a specific authentication, these AuthenticationProviders can’t execute directly

**ProviderManager** class which delegates to a list of configured authentication providers.

### 9.  What is the disadvantage of Session? how to overcome the disadvantage?
* performance overhead in case of large number of user

use JWT to overcome

### 10. What is JWT?
JWT (JSON Web Token) is an open standard used to share information between two parties securely — a client and a server.
JWT authentication is a token-based stateless authentication mechanism. 
It is popularly used as a client-side-based stateless session, this means the server doesn’t have to completely rely on a data store (or) database to save session information.

### 11. describe how do JWT work(slides 里有图， 26页)
1. Client sends POST/ Authenticate with username and password
2. Server validate the username and password, if all information correct, server wi;; generate the JWT useing secret key
3. server return the generated JWT to client
4. client sends a GET request with JWT Header information to act on permitted actions
5. Server validate JWT using secret key and then return the response

### 12. how to get value from application.properties?
use `@Value("${property-name}")` from the application. properties if your class is annotated with @Configuration or @Component

### 13. What is the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)?
**configure(HttpSecurity)** allows configuration of web based security at a resource level, based on a selection match - e.g. The example below restricts the URLs that start with /admin/ to users that have ADMIN role, and declares that any other URLs need to be successfully authenticated.
```java
protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
        .antMatchers("/admin/**").hasRole("ADMIN")
        .anyRequest().authenticated()
}
```

**configure(AuthenticationManagerBuilder)** is used to establish an authentication mechanism by allowing AuthenticationProviders to be added easily: e.g. The following defines the in-memory authentication with the in-built 'user' and 'admin' logins.
```java
public void configure(AuthenticationManagerBuilder auth) {
    auth.inMemoryAuthentication()
        .withUser("user")
        .password("password")
        .roles("USER")
        .and()
        .withUser("admin")
        .password("password")
        .roles("ADMIN","USER");
}
```

### 14. What is Spring security authentication and authorization?
**authentication** is the process of verifying who someone is

**authorization** is the process of verifying what specific applications, files, and data a user has access to