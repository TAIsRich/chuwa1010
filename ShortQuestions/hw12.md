## HW12 - Spring Basics


##### 1.List all of the annotations you learned from class and homework to annotaitons.md

##### 2.What is Spring and Springboot? What is the benefits of using Springboot?

Spring is a framework which is used to build applications. The primary feature is `Dependency Injection`.

Spring Boot is mainly used to develop REST API. The primary feature is `Autoconfiguration`.

Spring Boot contains all of the functionality of the Spring framework while also making application development easier and more efficient.

##### 3.What is IOC and what is DI?

Inversion of Control is a principle which transfers the control of objects into a container or framework. We need to extend the class of the framework or plugin our own class to add our own behavior to the program.

Dependency Injection is a mechanism which can be used to achieve IoC. The main idea is the components and services need not be connected by us in the code directly. We just need to describe which services are needed by which components in the configuration file. Then the IoC container will wire them up together.

##### 4.What is @ComponentScan?

Uses along with @Configuration. It specifies where the spring need to scan and generate the beans.

##### 5.How to define which package spring need to scan in xml and annotation?

in xml: `<context:component-scan base-package="com.chuwa.springbasic" />`

annotation: `@ComponentScan(basePackages = {"com.chuwa.springbasic"})`

##### 6.What is @SpringbootApplication?

It enables three features:  @EnableAutoConfiguration, @ComponentScan, and @Configuration.

##### 7.How many ways we can define a bean?

- Class Level: @Component, @Service, @Repository, @Controller

- Method Level: @Bean, uses along with @Configuration

- XML: `<bean id="abc" class="x.y.z"></bean>`

##### 8.What is default bean name for @Component and @Bean?

for the class level, spring uses the class name and converts the first letter to lowercase

for the method level, spring uses the method name

##### 9.What is the difference between @component and @service,@repository?

@Component is a generic stereotype for any Spring-managed component. @Repository, @Service, and @Controller are specializations of @Component for more specific use cases. 

@Repository for persistence layer, @Service for service layer, @Controller for presentation layer.

##### 10.How many annotations we can use to inject the bean?

Three: @Autowired, @Resource, @Inject

##### 11.Tell me the three types to do dependency injection? Which way is better and why?

Dependency Injection can be done through constructor, setter or field. Both the constructor and field are fine. The constructor injection provides immutability and makes unit testing easier. While the field injection has less coding needed.

##### 12.If we have multiple beans for one type, how to set one is primary? and how to let the spring to pick one bean to inject if no primary?

Use @Primary

if no primary, we can specific the bean by using: 1. @Qualifier, 2. bean name

##### 13.What is the difference between BeanFactory and ApplicationContext in Spring?

BeanFactory is the most basic version of IoC containers, and ApplicationContext is the advanced version which extends the BeanFactory.

BeanFactory is lazy loading beans, ApplicationContext is eager loading beans

BeanFactory supports only Singleton and Prototype bean scopes, ApplicationContext supports all types

BeanFactory does not support annotations, need to configure the propertities in XML file only. ApplicationContext supports annotations.

##### 14.What is the Scope of a Bean? and list the examples for each scope.

//Use cases: https://stackoverflow.com/questions/39400697/real-world-use-case-of-bean-scopes

- **Singleton**: a single bean instance is created per IOC container

  example: usage of defined service bean

- **Prototype**: a new bean instance is created each time IOC container requests the bean

  example: declare configured form elements and get stateful instances for every form being created (a textbox configured to validate names, e-mail addresses)

- **Request**: a single bean instance is created and available during the lifecycle of an HTTP request

  example: information that should only be valid on one page

- **Session**: a single bean instance is created and available during the lifecycle of an HTTP session

  example: hold authentication information during a session

- **Global-Session**: a single bean instance is created and available during the lifecycle of a global HTTP session

##### 15.Configure a bean using xml. If bean has parameters/dependencies, how can we configure the bean?

//https://www.tutorialspoint.com/spring/constructor_based_dependency_injection.htm

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!-- arguments -->
    <bean id = "example" class = "X.Y.Example">
      <constructor-arg index = "0" value = "1"/>
      <constructor-arg index = "1" value = "aaa"/>
   	</bean>
    
    <!-- dependency -->
    <bean id = "a" class = "X.Y.A">
      <constructor-arg ref = "b"/>
   	</bean>

   	<bean id = "b" class = "X.Y.B">
    </bean>

</beans>
```

