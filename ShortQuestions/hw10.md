# HW10 
## 1. List all of the annotations you learned from class and homework to
    annotaitons.md
## 2.  type the code, you need to checkout new branch from branch 02_post_RUD,
    name the new branch with https://github.com/TAIsRich/springboot-redbook/
    tree/hw05_01_slides_JPQL.
## 3.  What is JPQL?
JPQL is Java Persistence Query Language defined in JPA specification. 
It is used to create queries against entities to store in a relational database. 
JPQL is developed based on SQL syntax. But it won’t affect the database directly.
JPQL can retrieve information or data using SELECT clause, can do bulk updates using 
UPDATE clause and DELETE clause. EntityManager.createQuery() API will support for querying language.

**JPA V.S. JPQL**
The Java Persistence Query Language (JPQL) is the query language defined by JPA. 
JPQL is similar to SQL, but operates on objects, attributes and relationships instead of tables and columns. 
JPQL can be used for reading (SELECT), as well as bulk updates (UPDATE) and deletes (DELETE).

## 4.  What is @NamedQuery and @NamedQueries?
@NameQuery: give a name to a query, so that the query could be used via referencing the name.
@NameQueries: includes a list of NameQuery
```java
@NamedQueries({
@NamedQuery(name = "Book.findByTitle", query = "SELECT b FROM Book b WHERE b.title = :title"),
@NamedQuery(name = "Book.findByPublishingDate", query = "SELECT b FROM Book b WHERE b.publishingDate = :publishingDate")
})
```

## 5.  What is @Query? In which Interface we write the sql or JPQL?
The @Query annotation can only be used to annotate repository interface methods. The call of the annotated methods will trigger the execution of
the statement found in it. This annotation supports both native SQL and JPQL.

## 6.  What is HQL and Criteria Queries?
HQL(Hibernate Query Language) is the object oriented version of SQL. It is is same as SQL (Structured Query Language) but it doesn't depends
on the table of the database. Instead of table name, we use class name in HQL. So it is database independent query language.
```java
Query query=session.createQuery("from Emp");//here persistent class name is Emp  
List list=query.list();  
```
The criteria query API lets us build nested, structured query expressions in Java, providing a compile-time syntax checking that is 
not possible with a query language like HQL or SQL.
- HQL is to perform both select and non-select operations on the data,  but Criteria is only for selecting the data
- HQL is suitable for executing Static Queries, where as Criteria is suitable for executing Dynamic Queries

## 7. What is EnityManager?
The EntityManager is an API that manages the lifecycle of entity instances. An EntityManager object manages a set of entities that are defined 
by a persistence unit. Each EntityManager instance is associated with a persistence context.

## 8.  What is SessionFactory and Session?
SessionFactory is a factory class for Session objects.
It is available for the whole application while a Session is only available for particular transaction.
Session is short-lived while SessionFactory objects are long-lived. 
SessionFactory provides a second level cache and Session provides a first level cache

## 9.  What is Transaction? **how to manage your transaction?**
A transaction is a set of one or more statements that is executed as a unit, 
so either all of the statements are executed, or none of the statements is executed.
A transaction is a logical unit of work that contains one or more SQL statements, simply represents a unit of work.
A transaction is an atomic unit -  if one step fails, the whole transaction fails (which is termed as atomicity).

TransactionManager: An interface which allows an application server to demarcate and control transactions.

## 10. What is hibernate Caching?
Caching is a mechanism to enhance the performance of a system. It is a buffer memory that lies between the application and the database. 
Cache memory stores recently used data items in order to reduce the number of database hits as much as possible.
It includes 1st level-cache and second-level cache.

## 11. What is the difference between first-level cache and second-level cache?
The first level cache is associated with the Session Object, while the second-level cache is associated with the SessionFactory object. 
This means first-level cache's scope is limited to session-level while second-level cache's scope is at the application level.

## 12. How do you understand @Transactional? (不要clone，要自己抄写并测试
    transactional，https://github.com/TAIsRich/tutorial-transaction)

## 13. Write a simple factory design pattern.